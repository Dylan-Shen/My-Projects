var app=angular.module("qmgj",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"view/home.html",controller:"homeController"}).state("login",{url:"/login",templateUrl:"view/login.html",controller:"loginController"}).state("reg",{url:"/reg",templateUrl:"view/reg.html",controller:"regController"}).state("detail",{url:"/detail/:name",templateUrl:"view/detail.html",controller:"detailController"}).state("detail.history",{url:"/history",templateUrl:"view/detailHistory.html"}).state("detail.chat",{url:"/chat",templateUrl:"view/detailChat.html"}).state("list",{url:"/list",templateUrl:"view/list.html",controller:"listController"}).state("circle",{url:"/circle",templateUrl:"view/circle.html"}).state("column",{url:"/column",templateUrl:"view/column.html"}).state("support",{url:"/support",templateUrl:"view/support.html"}).state("pay",{url:"/pay",templateUrl:"view/pay.html",controller:"payController"}).state("paySuccess",{url:"/paySuccess",templateUrl:"view/paySuccess.html",controller:"paySuccessController"}).state("user",{url:"/user",templateUrl:"view/user.html",controller:"userController"}).state("user.userhome",{url:"/userhome",templateUrl:"view/userhome.html"}).state("user.info",{url:"/info",templateUrl:"view/info.html"}).state("user.softSet",{url:"/softSet",templateUrl:"view/softSet.html",controller:"softSetController"}).state("user.softSet.trueName",{url:"/trueName",templateUrl:"view/trueName.html"}).state("user.softSet.mail",{url:"/mail",templateUrl:"view/mail.html"}).state("user.buyHistory",{url:"/buyHistory",templateUrl:"view/buyHistory.html",controller:"buyHistoryController"})}]),app.controller("index1Controller",["$scope",function(e){e.arr1=[{page:"home",name:"首页"},{page:"column",name:"节目专栏"},{page:"circle",name:"圈子"}],e.showIndex=0,e.myfun=function(t){e.showIndex=t}}]),app.controller("buyHistoryController",["$scope",function(e){var t=[{oid:"6",rprice:"1",fname:"万娱引力",name:"触电来袭：互动演出鬼吹灯",img:"img/myimg.png",pay:"已支付",pay2:"支付完成",pay3:"paySuccess"},{oid:"7",rprice:"79",fname:"人人娱乐",name:"史上最高颜值天团等你来加油",img:"img/myimg.png",pay:"已支付",pay2:"支付完成",pay3:"paySuccess"},{oid:"8",rprice:"1",fname:"万娱引力",name:"触电来袭：互动演出鬼吹灯",img:"img/myimg.png",pay:"待支付",pay2:"立即支付",pay3:"pay"},{oid:"9",rprice:"99",fname:"上海传媒",name:"《未来十年》电影众筹",img:"img/myimg.png",pay:"已支付",pay2:"支付完成",pay3:"paySuccess"}],n=[{oid:"6",rprice:"1",fname:"万娱引力",name:"触电来袭：互动演出鬼吹灯",img:"img/myimg.png",pay2:"支付完成",pay3:"paySuccess"},{oid:"7",rprice:"79",fname:"人人娱乐",name:"史上最高颜值天团等你来加油",img:"img/myimg.png",pay2:"支付完成",pay3:"paySuccess"},{oid:"8",rprice:"1",fname:"万娱引力",name:"触电来袭：互动演出鬼吹灯",img:"img/myimg.png",pay2:"支付完成",pay3:"paySuccess"}],o=[{oid:"8",rprice:"1",fname:"万娱引力",name:"触电来袭：互动演出鬼吹灯",img:"img/myimg.png",pay:"待支付",pay2:"立即支付",pay3:"pay"}],r=[t,n,o];e.dataArr=t,e.showActive=0,e.checkContent=function(t){e.dataArr=r[t],e.showActive=t}}]),app.controller("detailController",["$scope","$stateParams","$http",function(e,t,n){e.name=t.name,n({url:"json/"+e.name+".json",method:"get"}).success(function(t){e.info=t}),e.showActive=0,e.myfun=function(t){e.showActive=t}}]),app.controller("homeController",["$scope","$interval","$http",function(e,t,n){function o(){e.showIndex++,e.showIndex==e.arr1.length&&(e.showIndex=0)}e.arr1=[{img:"img/banner1.png",name:"《晚秋》再现舞台",detail:"汤唯 玄彬继电影后，首次在话剧舞台合作，重现美国西雅图两名男女身在异国他乡的爱情故事",page:"detail"},{img:"img/banner2.jpg",name:"《鬼吹灯》微电影",detail:"一次惊心动魄的旅行，摸金校尉再次带领团队，深入地下数米，探寻千年前的神秘古墓",page:"detail"}],e.showIndex=0;var r=t(o,2e3);e.overFn=function(n){e.showIndex=n,t.cancel(r)},e.outFn=function(n){e.showIndex=n,r=t(o,2e3)},n({url:"json/list.json",method:"get"}).success(function(t){e.list=t})}]),app.controller("listController",["$scope","$http",function(e,t){e.arr1=["全部","微电影","电影","电视剧","戏曲","话剧","书画","相声","戏剧","音乐剧","其他"],e.arr2=["筹资中","即将结束","已成功"],e.arr3=["最新","热门","结束时间"],e.arr4=["1","2","3","4","5","6",">","尾页"],e.showIndex1=0,e.showIndex2=2,e.showIndex3=0,e.showIndex4=0,e.myfun1=function(t){e.showIndex1=t},e.myfun2=function(t){e.showIndex2=t},e.myfun3=function(t){e.showIndex3=t},e.myfun4=function(t){e.showIndex4=t},t({url:"json/list.json",method:"get"}).success(function(t){e.list=t,console.log(e.list)})}]),app.controller("loginController",["$scope",function(e){}]),app.controller("payController",["$scope",function(e){e.showActive1=0,e.showActive2=0,e.myfun1=function(t){e.showActive1=t},e.myfun2=function(t){e.showActive2=t},e.arr1=[{name:1,img:"img/pay-img3.png"},{name:2,img:"img/pay-img4.png"},{name:3,img:"img/pay-img3.png"},{name:4,img:"img/pay-img4.png"},{name:5,img:"img/pay-img3.png"},{name:6,img:"img/pay-img4.png"},{name:7,img:"img/pay-img3.png"},{name:8,img:"img/pay-img4.png"},{name:9,img:"img/pay-img3.png"},{name:10,img:"img/pay-img4.png"},{name:11,img:"img/pay-img3.png"},{name:12,img:"img/pay-img4.png"},{name:13,img:"img/pay-img3.png"},{name:14,img:"img/pay-img4.png"},{name:15,img:"img/pay-img3.png"},{name:16,img:"img/pay-img4.png"},{name:17,img:"img/pay-img3.png"},{name:18,img:"img/pay-img4.png"},{name:19,img:"img/pay-img3.png"}]}]),app.controller("paySuccessController",["$scope",function(e){e.showActive=0,e.myfun=function(t){e.showActive=t}}]),app.controller("regController",["$scope","$interval",function(e,t){e.count=60,t(function(){if(e.count--,e.count<0)return e.count="请从新发送"},1e3)}]),app.controller("softSetController",["$scope",function(e){e.arr1=[{name:"修改密码",view:"user.softSet"},{name:"实名认证",view:"user.softSet.trueName"},{name:"邮箱认证",view:"user.softSet.mail"}],e.showActive=0,e.myfun=function(t){e.showActive=t}}]),app.controller("userController",["$scope","$http","$state",function(e,t,n){e.arr1=[{name:"个人主页",view:"user.userhome"},{name:"个人信息",view:"user.info"},{name:"安全设置",view:"user.softSet"},{name:"关注圈子",view:"circle"},{name:"购买记录",view:"user.buyHistory"}],t({url:"json/user.json",method:"get"}).success(function(t){e.user=t})}]);